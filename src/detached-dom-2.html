<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>detached-dom</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>

  </head>
  <body>
    <h1>sandbox</h1>

    <h2>pattern 1 (no Detached DOM)</h2>
    <button id="b-1">delete</button>
    <div>
      <ul id="root-1">
        <li>1
          <ul>
            <li>1-1</li>
            <li>1-2</li>
            <li id="t-1">1-3 (id="t-1") </li>
            <li>1-4</li>
            <li>1-5</li>
          </ul>
        </li>
      </ul>
    </div>

    <pre>
      <code>
      document.getElementById('t-1').addEventListener('click', function(){
        console.count('id="t-1" is clicked')
      })
      document.getElementById('b-1').addEventListener('click', function(){
        var rootEl = document.getElementById('root-1')
        rootEl.parentNode.removeChild(rootEl);
        console.info('deleted')
      })
      </code>
    </pre>
    <script>
      document.getElementById('t-1').addEventListener('click', function(){
        console.count('id="t-1" is clicked')
      })
      document.getElementById('b-1').addEventListener('click', function(){
        var rootEl = document.getElementById('root-1')
        rootEl.parentNode.removeChild(rootEl);
        console.info('deleted')
      })
    </script>

    <h2>pattern 2 (no Detached DOM)</h2>
    <button id="b-2">delete</button>
    <div>
      <ul id="root-2">
        <li>1
          <ul>
            <li>1-1</li>
            <li>1-2</li>
            <li id="t-2-1">1-3 (id="t-2-1") </li>
            <li id="t-2-2">1-4 (id="t-2-2")</li>
            <li>1-5</li>
          </ul>
        </li>
      </ul>
    </div>

    <pre>
      <code>
      document.getElementById('t-2-1').addEventListener('click', function(){
        console.count('id="t-2-1" is clicked')
        var itemEl = document.getElementById('t-2-2')
      })
      document.getElementById('b-2').addEventListener('click', function(){
        var rootEl = document.getElementById('root-2')
        rootEl.parentNode.removeChild(rootEl);
        console.info('deleted')
      })
      </code>
    </pre>
    <script>
      document.getElementById('t-2-1').addEventListener('click', function(){
        console.count('id="t-2-1" is clicked')
        var itemEl = document.getElementById('t-2-2')
      })
      document.getElementById('b-2').addEventListener('click', function(){
        var rootEl = document.getElementById('root-2')
        rootEl.parentNode.removeChild(rootEl);
        console.info('deleted')
      })
    </script>

    <h2>pattern 3 (no Detached DOM)</h2>
    <button id="b-3">delete</button>
    <div>
      <ul id="root-3">
        <li>1
          <ul>
            <li>1-1</li>
            <li>1-2</li>
            <li id="t-3-1">1-3 (id="t-3-1") </li>
            <li id="t-3-2">1-4 (id="t-3-2")</li>
            <li>1-5</li>
          </ul>
        </li>
      </ul>
    </div>

    <pre>
      <code>
      $('#t-3-1').on('click', function(){
        console.count('id="t-3-1" is clicked')
        var itemEl = document.getElementById('t-3-2')
      })
      document.getElementById('b-3').addEventListener('click', function(){
        var rootEl = document.getElementById('root-3')
        rootEl.parentNode.removeChild(rootEl);
        console.info('deleted')
      })

      </code>
    </pre>
    <script>
      $('#t-3-1').on('click', function(){
        console.count('id="t-3-1" is clicked')
        var itemEl = document.getElementById('t-3-2')
      })
      document.getElementById('b-3').addEventListener('click', function(){
        var rootEl = document.getElementById('root-3')
        rootEl.parentNode.removeChild(rootEl);
        console.info('deleted')
      })
    </script>

  </body>
</html>
